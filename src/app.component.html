<div class="treegrid-container">
  <ejs-treegrid #treegrid [enableVirtualization]="enableVirtualization" [dataSource]="data" childMapping="subtasks"
    width="100%" height="100%" [treeColumnIndex]="1" allowReordering="true" id="treegridcomp" allowSorting="true"
    [frozenColumns]="frozenColumns" [contextMenuItems]="contextMenuItems" [allowSorting]="allowSorting"
    [allowFiltering]="allowFiltering" [filterSettings]="filterSettings" is-responsive="true"
    [allowRowDragAndDrop]="allowRowDragAndDrop" [toolbar]="toolbar" [editSettings]="editSettings"
    (contextMenuClick)="contextMenuClick($event)" (contextMenuOpen)="contextMenuOpen($event)"
    [selectionSettings]="selectOptions" [allowTextWrap]="true" [allowResizing]="true">
    <!--(beforeOpen)="($event)"-->
    <e-columns>
      <e-column field="taskID" headerText="Task ID" isPrimaryKey="true" width="80" [edit]="editparams" textAlign="Right"
        editType="numericedit"></e-column>
      <e-column field="taskName" headerText="Task Name" width="190"> </e-column>
      <e-column field="startDate" headerText="Start Date" width="90" format="yMd" textAlign="Right"
        editType="datepickeredit"></e-column>
      <e-column field="endDate" headerText="End Date" width="90" format="yMd" textAlign="Right"
        editType="datepickeredit"></e-column>
      <e-column field="duration" headerText="Duration" width="85" [edit]="editparams" textAlign="Right"
        editType="numericedit"></e-column>
      <e-column field="progress" headerText="Progress" width="90" textAlign="Right" [edit]="editparams"
        editType="numericedit"></e-column>
      <e-column field="priority" headerText="Priority" width="80" textAlign="Left" editType="stringedit"></e-column>
    </e-columns>
  </ejs-treegrid>
</div>

<ejs-dialog id="dialog" #Dialog width="450px" [showCloseIcon]="true" header="Column Style" target=".control-section"
  [allowDragging]="false" [visible]="false">
  <ng-template #content>
    <form id="template_driven" #userForm="ngForm" novalidate>
      <div class="form-group" style="padding-top: 11px">
        <div class="selection-input">
          <label class="" for="name">Data Type</label>
          <select name="name" id="name" #nameval="ngModel" name="name" required [(ngModel)]="dataType">
            <option value="string">string</option>
            <option value="number">number</option>
            <option value="boolean">boolean</option>
            <option value="date">date</option>
            <option value="datetime">datetime</option>
          </select>
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="e-float-input">
          <input type="number" id="font-size" #fontSizeVal="ngModel" name="font-size" required [(ngModel)]="fontSize" />
          <!-- <span class="e-float-line"></span> -->
          <label class="e-float-text e-label-top" for="font-size">Font Size</label>
          <!-- <div *ngIf="
              fontSizeVal.invalid && (fontSizeVal.dirty || fontSizeVal.touched)
            ">
            <div class="e-error" *ngIf="fontSizeVal.errors.required">
              * Enter font size
            </div>
          </div> -->
        </div>
      </div>

      <!-- <div class="form-group" style="padding-top: 11px;">
              <div class="e-float-input">
                <input type="number" id="font-size" #fontSizeVal='ngModel' name="font-size" required ngModel>
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="font-size">Font Size</label>
                <div *ngIf="(fontSizeVal.invalid && (fontSizeVal.dirty || fontSizeVal.touched))">
                  <div class="e-error" *ngIf="fontSizeVal.errors.required">
                    * Enter font size
                  </div>
                </div>
              </div>
            </div> -->

      <div class="form-group" style="padding-top: 11px">
        <div class="e-float-input">
          <label class="" for="headerBGColor">Header Font Color</label>
          <input type="color" id="headerFontColor" #headerFontColorVal="ngModel" name="headerFontColor" required
            [(ngModel)]="headerFontColor" />
          <!-- <span class="e-float-line"></span> -->

          <!-- <div
            *ngIf="
              headerFontColorVal.invalid &&
              (headerFontColorVal.dirty || headerFontColorVal.touched)
            "
          >
            <div class="e-error" *ngIf="headerFontColorVal.errors.required">
              * Select Header Font Color
            </div>
          </div> -->
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="e-float-input">
          <label class="" for="headerBGColor">Row Font Color</label>
          <input type="color" id="rowFontColor" #rowFontColorVal="ngModel" name="rowFontColor" required
            [(ngModel)]="rowFontColor" />
          <!-- <span class="e-float-line"></span> -->
          <!-- <div *ngIf="
                rowFontColorVal.invalid &&
                (rowFontColorVal.dirty || rowFontColorVal.touched)
              ">
            <div class="e-error" *ngIf="rowFontColorVal.errors.required">
              * Select Row Font Color
            </div>
          </div> -->
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="e-float-input">
          <label class="" for="headerBGColor">Header Background Color</label>
          <input type="color" id="headerBGColor" #headerBGColorVal="ngModel" name="headerBGColor" required
            [(ngModel)]="headerBGColor" />
          <!-- <span class="e-float-line"></span> -->
          <!-- <div *ngIf="
                headerBGColorVal.invalid &&
                (headerBGColorVal.dirty || headerBGColorVal.touched)
              ">
            <div class="e-error" *ngIf="headerBGColorVal.errors.required">
              * Enter Header Background Color
            </div>
          </div> -->
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="e-float-input">
          <label class="" for="headerBGColor">Row Background Color</label>
          <input type="color" id="rowBGColor" #rowBGColorVal="ngModel" name="rowBGColor" required
            [(ngModel)]="rowBGColor" />
          <!-- <span class="e-float-line"></span> -->
          <!-- <div *ngIf="
                rowBGColorVal.invalid &&
                (rowBGColorVal.dirty || rowBGColorVal.touched)
              ">
            <div class="e-error" *ngIf="rowBGColorVal.errors.required">
              * Enter Row Background Color
            </div>
          </div> -->
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="selection-input">
          <label class="" for="alignment">Alignment</label>
          <select name="alignment" id="alignment" #alignmentVal="ngModel" name="alignment" required
            [(ngModel)]="alignment">
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
          </select>
        </div>
      </div>

      <div class="form-group" style="padding-top: 11px">
        <div class="selection-input">
          <label class="" for="text-wrap">Text Wrap</label>
          <select name="text-wrap" id="text-wrap" #textWrapVal="ngModel" name="text-wrap" required
            [(ngModel)]="textWrap">
            <option [ngValue]="false">Normal</option>
            <option [ngValue]="true">Break</option>
          </select>
        </div>
      </div>

      <!-- <div class="form-group" style="padding-top: 11px;">
                <div class="e-float-input">
                  <input type="number" id="contact" #contactval='ngModel' name="contact" required ngModel>
                  <span class="e-float-line"></span>
                  <label class="e-float-text e-label-top" for="contact">Contact No</label>
                  <div *ngIf="(contactval.invalid && (contactval.dirty || contactval.touched))">
                    <div class="e-error" *ngIf="contactval.errors.required">
                      * Enter your contact number
                    </div>
                  </div>
                </div>
              </div> -->

      <!-- <div class="selected-files">
                <div class="textboxes">
                  <div class="form-group" style="padding-top: 11px; width:">
                    <div class="e-float-input upload-area">
                      <input type="text" id="upload" #uploadval='ngModel' [(ngModel)]="uploadInput" readonly
                        name="upload" required ngModel>
                      <span class="e-float-line"></span>
                      <label class="e-float-text e-label-top" for="upload">Choose a file</label>
                    </div>
                  </div>
                </div>
              </div> -->
      <!-- <span class='error-root' *ngIf="(uploadval.invalid && (uploadval.dirty || uploadval.touched))">
              <span class="e-error errorClass" *ngIf="uploadval.errors.required">
                * Select a file
              </span>
            </span> -->
      <div class="form-group" style="padding-top: 11px">
        <div class="submitBtn">
          <button class="submit-btn e-btn" id="submit-btn" [disabled]="userForm.invalid" type="reset"
            (click)="onSubmitStyleForm()">
            Submit
          </button>
        </div>
      </div>
    </form>
  </ng-template>
</ejs-dialog>

<!-- <ejs-dialog id="dialog" #Dialog [buttons]='dlgButtons' [animationSettings]='animationSettings'
  [header]='formHeader' [showCloseIcon]='showCloseIcon' [content]='contentData' [target]='target' [width]='width'
  [visible]="visible" [isModal]="isModal" [closeOnEscape]='true'>
</ejs-dialog> -->

<!-- <ejs-dialog id='dialog' #Dialog header='Outer Dialog' height='300px' width='400px' showCloseIcon='true'
  [content]='content' [target]='targetElement' [animationSettings]='dialogAnimation' [closeOnEscape]='true'>
  <button class="e-control e-btn" id="innerButton" style='margin-left: 18px;'>Open
    InnerDialog</button>
</ejs-dialog> -->

<div class="control-section">
  <div class="col-lg-12">
    <div class="control_wrapper" id="control_wrapper" style="margin: 10px auto">
      <ejs-dialog id="addColumn" header="Add Column" #addColumn width="450px" [showCloseIcon]="true"
        target=".control-section" [allowDragging]="false" [visible]="false">
        <ng-template #content>
          <form id="template_driven" #addColumnForm="ngForm" novalidate>
            <div class="form-group">
              <div class="e-float-input">
                <label class="" for="text-wrap">Header Text</label>

                <input type="text" name="headerText" id="headerText" #headerTextWrapVal="ngModel"
                  [(ngModel)]="headerTextWrap" required />
              </div>
            </div>

            <div class="form-group" style="padding-top: 11px">
              <div class="e-float-input">
                <label class="" for="text-wrap">Field</label>
                <input type="text" name="field" id="field" #fieldWrapVal="ngModel" [(ngModel)]="fieldWrap" required />
              </div>
            </div>

            <div class="form-group" style="padding-top: 11px">
              <div class="submitBtn">
                <button class="submit-btn e-btn" id="submit-btn" [disabled]="addColumnForm.invalid" type="reset"
                  (click)="onSubmitAddColumnForm(addColumnForm)">
                  Submit
                </button>
              </div>
            </div>
          </form>
        </ng-template>
      </ejs-dialog>
    </div>
  </div>
</div>

<div class="control-section">
  <div class="col-lg-12">
    <div class="control_wrapper" id="control_wrapper" style="margin: 10px auto">
      <ejs-dialog id="EditColumn" #editColumn header="Edit Column" width="450px" [showCloseIcon]="true"
        target=".control-section" [allowDragging]="false" [visible]="false">
        <ng-template #content>
          <form id="template_driven" #editColumnForm="ngForm" novalidate>
            <div class="form-group">
              <div class="e-float-input">
                <label class="" for="text-wrap">Header Text</label>

                <input type="text" name="editHeaderText" id="editHeaderText" #editHeaderTextWrapVal="ngModel"
                  [(ngModel)]="editHeaderTextWrap" required />
              </div>
            </div>

            <div class="form-group" style="padding-top: 11px">
              <div class="submitBtn">
                <button class="submit-btn e-btn" id="submit-btn" [disabled]="editColumnForm.invalid" type="reset"
                  (click)="onSubmitEditColumnForm(editColumnForm)">
                  Submit
                </button>
              </div>
            </div>
          </form>
        </ng-template>
      </ejs-dialog>
    </div>
  </div>
</div>

<div class="control-section">
  <div class="col-lg-12">
    <ejs-dialog id="deleteDialog" #deleteDialog [content]="deleteDiaContentData" [buttons]="buttons" [visible]="visible"
      [showCloseIcon]="true" [header]="'Delete Column'" [width]="dialogWidth">
    </ejs-dialog>
  </div>
</div>