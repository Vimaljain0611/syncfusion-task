<div class="control-section">
  <ejs-treegrid
    #treegrid
    [dataSource]="data"
    childMapping="subtasks"
    height="350"
    [treeColumnIndex]="1"
    allowReordering="true"
    id="treegridcomp"
    allowExcelExport="true"
    allowPdfExport="true"
    allowSorting="true"
    [frozenColumns]="frozenColumns"
    [contextMenuItems]="contextMenuItems"
    [allowSorting]="allowSorting"
    [allowFiltering]="allowFiltering"
    [filterSettings]="filterSettings"
    
    is-responsive="true"
    [allowRowDragAndDrop]="allowRowDragAndDrop"
    [toolbar]='toolbar'
    [editSettings]="editSettings"

    (contextMenuClick)="contextMenuClick($event)"
    (contextMenuOpen)="contextMenuOpen($event)"
    [selectionSettings]="selectOptions"
  >
    <!--(beforeOpen)="($event)"-->
    <e-columns>
      <e-column
        field="taskID"
        headerText="Task ID"
        isPrimaryKey="true"
        width="80"
        [edit]="editparams"
        textAlign="Right"
        editType="numericedit"
      ></e-column>
      <e-column field="taskName" headerText="Task Name" width="190"> </e-column>
      <e-column
        field="startDate"
        headerText="Start Date"
        width="90"
        format="yMd"
        textAlign="Right"
        editType="datepickeredit"
      ></e-column>
      <e-column
        field="endDate"
        headerText="End Date"
        width="90"
        format="yMd"
        textAlign="Right"
        editType="datepickeredit"
      ></e-column>
      <e-column
        field="duration"
        headerText="Duration"
        width="85"
        [edit]="editparams"
        textAlign="Right"
        editType="numericedit"
      ></e-column>
      <e-column
        field="progress"
        headerText="Progress"
        width="90"
        textAlign="Right"
        [edit]="editparams"
        editType="numericedit"
      ></e-column>
      <e-column
        field="priority"
        headerText="Priority"
        width="80"
        textAlign="Left"
        editType="stringedit"
      ></e-column>
    </e-columns>
  </ejs-treegrid>
</div>
